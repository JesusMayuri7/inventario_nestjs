"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([["src_app_personal_personal_module_ts"],{3300:(J,c,r)=>{r.r(c),r.d(c,{PersonalModule:()=>Z});var m=r(6895),s=r(8479),x=r(2451),e=r(8256),p=r(7554),u=r(5697),g=r(9033),a=r(4943),h=r(7217);function f(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",18),e.NdJ("onClick",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.refreshDataGrid(i))}),e.qZA()()}}function v(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",19),e.NdJ("onClick",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.newPersonal(i))}),e.qZA()()}}function P(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",20),e.NdJ("onClick",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.exportXls(i))}),e.qZA()()}}function C(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-text-box",21),e.NdJ("onValueChanged",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.onValueChanged(i))}),e.qZA()()}2&n&&(e.xp6(1),e.Q6J("showClearButton",!0))}const w=function(){return[]},_=function(){return[10,25,50,100]};let T=(()=>{class n{constructor(t){this.centroService=t,this.dataSource=new x.Z({key:["id"],load:()=>this.centroService.findAll().toPromise(),update:(o,i)=>this.centroService.updatePersonal(o.id,i).toPromise().then(d=>d),insert:o=>this.centroService.insertPersonal(o).toPromise().then(i=>i)})}ngOnInit(){}refreshDataGrid(t){this.gridPersonal?.instance.refresh()}newPersonal(t){t.preventDefault=!1,this.gridPersonal?.instance.addRow()}onValueChanged(t){this.gridPersonal?.instance.searchByText(t.value)}exportXls(t){this.gridPersonal?.instance.exportToExcel(!1)}updatePersonal(t,o){console.log("params",o);const i={};return o.hasOwnProperty("dni")&&(i.dni=o.dni),o.hasOwnProperty("apellidos")&&(i.apellidos=o.apellidos),o.hasOwnProperty("nombres")&&(i.nombres=o.nombres),o.hasOwnProperty("codigo_planilla")&&(i.codigo_planilla=o.codigo_planilla),this.centroService.updatePersonal(t,i).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fer-personal"]],viewQuery:function(t,o){if(1&t&&e.Gf(s.e,5),2&t){let i;e.iGM(i=e.CRH())&&(o.gridPersonal=i.first)}},decls:26,vars:25,consts:[[1,"grid-main"],[1,"grid-data"],["id","gridPersonal","keyExpr","id",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","showBorders","hoverStateEnabled","selectedRowKeys"],["gridProduct",""],[3,"visible"],["mode","virtual","showScrollbar","always"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"visible","highlightCaseSensitive"],["mode","row",3,"allowAdding","allowUpdating"],["mode","single"],["dataField","id",3,"width","allowEditing"],["dataField","dni","caption","Dni","dataType","string","alignment","left",3,"width"],["dataField","apellidos","caption","Apellidos","dataType","string","alignment","left",3,"width"],["dataField","nombres","caption","nombres","dataType","string","alignment","left",3,"width"],["dataField","codigo_planilla","caption","Cod. Planilla","dataType","string","alignment","left",3,"width"],["location","after"],[4,"dxTemplate"],["icon","refresh",3,"onClick"],["icon","add",3,"onClick"],["icon","export",3,"onClick"],["icon","search","placeholder","Buscar","width","250px",3,"showClearButton","onValueChanged"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"dx-data-grid",2,3),e._UZ(4,"dxo-filter-row",4)(5,"dxo-header-filter",4)(6,"dxo-scrolling",5)(7,"dxo-paging",6)(8,"dxo-pager",7)(9,"dxo-search-panel",8)(10,"dxo-editing",9)(11,"dxo-selection",10)(12,"dxi-column",11)(13,"dxi-column",12)(14,"dxi-column",13)(15,"dxi-column",14)(16,"dxi-column",15),e.TgZ(17,"dxo-toolbar")(18,"dxi-item",16),e.YNc(19,f,2,0,"div",17),e.qZA(),e.TgZ(20,"dxi-item",16),e.YNc(21,v,2,0,"div",17),e.qZA(),e.TgZ(22,"dxi-item",16),e.YNc(23,P,2,0,"div",17),e.qZA(),e.TgZ(24,"dxi-item",16),e.YNc(25,C,2,1,"div",17),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("dataSource",o.dataSource)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("showBorders",!0)("hoverStateEnabled",!0)("showBorders",!0)("selectedRowKeys",e.DdM(23,w)),e.xp6(2),e.Q6J("visible",!0),e.xp6(1),e.Q6J("visible",!0),e.xp6(2),e.Q6J("pageSize",10),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(24,_)),e.xp6(1),e.Q6J("visible",!0)("highlightCaseSensitive",!0),e.xp6(1),e.Q6J("allowAdding",!0)("allowUpdating",!0),e.xp6(2),e.Q6J("width",30)("allowEditing",!1),e.xp6(1),e.Q6J("width",80),e.xp6(1),e.Q6J("width",250),e.xp6(1),e.Q6J("width",250),e.xp6(1),e.Q6J("width",100))},dependencies:[s.e,a.qvW,a.tZE,a.Uo8,a.ZT3,a.I62,a.ilc,a.sXh,a.PXJ,a.XXE,a.Lz9,a.y1f,h.p6,u.K,g.I],styles:[".grid-main[_ngcontent-%COMP%]{display:grid;padding:.5rem;grid-row-gap:2px;grid-template-columns:800px;place-items:start;justify-content:center;height:80vh}.grid-data[_ngcontent-%COMP%]{justify-self:center;align-items:center}"]}),n})();var y=r(6773);const S=[{path:"",component:T}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.f],imports:[m.ez,s.x,u.e,g.a,y.Bz.forChild(S)]}),n})()}}]);