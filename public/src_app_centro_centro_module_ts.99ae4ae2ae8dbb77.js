"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([["src_app_centro_centro_module_ts"],{223:(A,c,i)=>{i.r(c),i.d(c,{CentroModule:()=>J});var C=i(6895),s=i(8479),g=i(2451),e=i(8256),u=i(7187),p=i(5697),x=i(9033),d=i(4943),m=i(7217);function h(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",17),e.NdJ("onClick",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.refreshDataGrid(r))}),e.qZA()()}}function v(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",18),e.NdJ("onClick",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.newCentro(r))}),e.qZA()()}}function f(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-button",19),e.NdJ("onClick",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.exportXls(r))}),e.qZA()()}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"dx-text-box",20),e.NdJ("onValueChanged",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onValueChanged(r))}),e.qZA()()}2&n&&(e.xp6(1),e.Q6J("showClearButton",!0))}const _=function(){return[]},S=function(){return[10,25,50,100]};let T=(()=>{class n{constructor(t){this.centroService=t,this.red=[],this.dataSource=new g.Z({key:["id"],load:()=>this.centroService.findAll().toPromise(),update:(o,r)=>this.centroService.updateCentro(o.id,r).toPromise().then(l=>l),insert:o=>this.centroService.insertCentro(o).toPromise().then(r=>r)}),this.centroService.findAllRed().subscribe(o=>{this.red=o})}ngOnInit(){}refreshDataGrid(t){this.gridCentro?.instance.refresh()}newCentro(t){t.preventDefault=!1,this.gridCentro?.instance.addRow()}onValueChanged(t){this.gridCentro?.instance.searchByText(t.value)}exportXls(t){this.gridCentro?.instance.exportToExcel(!1)}updateCentro(t,o){console.log("params",o);const r={};return o.hasOwnProperty("red")&&(r.red_id=o.red.id),o.hasOwnProperty("desc_centro")&&(r.desc_centro=o.desc_centro),this.centroService.updateCentro(t,r).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fer-centro"]],viewQuery:function(t,o){if(1&t&&e.Gf(s.e,5),2&t){let r;e.iGM(r=e.CRH())&&(o.gridCentro=r.first)}},decls:25,vars:24,consts:[[1,"grid-main"],[1,"grid-data"],["id","gridContainer","keyExpr","id",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","showBorders","hoverStateEnabled","selectedRowKeys"],["gridProduct",""],[3,"visible"],["mode","virtual","showScrollbar","always"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"visible","highlightCaseSensitive"],["mode","row",3,"allowAdding","allowUpdating"],["mode","single"],["dataField","id",3,"width","allowEditing"],["dataField","desc_centro","caption","Centros","dataType","string","alignment","left",3,"width"],["dataField","red.id","caption","Red",3,"width"],["displayExpr","desc_red","valueExpr","id",3,"dataSource"],["location","after"],[4,"dxTemplate"],["icon","refresh",3,"onClick"],["icon","add",3,"onClick"],["icon","export",3,"onClick"],["icon","search","placeholder","Buscar","width","250px",3,"showClearButton","onValueChanged"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"dx-data-grid",2,3),e._UZ(4,"dxo-filter-row",4)(5,"dxo-header-filter",4)(6,"dxo-scrolling",5)(7,"dxo-paging",6)(8,"dxo-pager",7)(9,"dxo-search-panel",8)(10,"dxo-editing",9)(11,"dxo-selection",10)(12,"dxi-column",11)(13,"dxi-column",12),e.TgZ(14,"dxi-column",13),e._UZ(15,"dxo-lookup",14),e.qZA(),e.TgZ(16,"dxo-toolbar")(17,"dxi-item",15),e.YNc(18,h,2,0,"div",16),e.qZA(),e.TgZ(19,"dxi-item",15),e.YNc(20,v,2,0,"div",16),e.qZA(),e.TgZ(21,"dxi-item",15),e.YNc(22,f,2,0,"div",16),e.qZA(),e.TgZ(23,"dxi-item",15),e.YNc(24,w,2,1,"div",16),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("dataSource",o.dataSource)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("showBorders",!0)("hoverStateEnabled",!0)("showBorders",!0)("selectedRowKeys",e.DdM(22,_)),e.xp6(2),e.Q6J("visible",!0),e.xp6(1),e.Q6J("visible",!0),e.xp6(2),e.Q6J("pageSize",10),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(23,S)),e.xp6(1),e.Q6J("visible",!0)("highlightCaseSensitive",!0),e.xp6(1),e.Q6J("allowAdding",!0)("allowUpdating",!0),e.xp6(2),e.Q6J("width",30)("allowEditing",!1),e.xp6(1),e.Q6J("width",250),e.xp6(1),e.Q6J("width",200),e.xp6(1),e.Q6J("dataSource",o.red))},dependencies:[s.e,d.qvW,d.tZE,d.w3U,d.Uo8,d.ZT3,d.I62,d.ilc,d.sXh,d.PXJ,d.XXE,d.Lz9,d.y1f,m.p6,p.K,x.I],styles:[".grid-main[_ngcontent-%COMP%]{display:grid;padding:.5rem;grid-row-gap:2px;grid-template-columns:500px;place-items:start;justify-content:center;height:80vh}.grid-data[_ngcontent-%COMP%]{justify-self:center;align-items:center}"]}),n})();var Z=i(6773);const y=[{path:"",component:T}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[u.X],imports:[C.ez,s.x,p.e,x.a,Z.Bz.forChild(y)]}),n})()}}]);