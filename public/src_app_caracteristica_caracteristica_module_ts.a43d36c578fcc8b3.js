"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([["src_app_caracteristica_caracteristica_module_ts"],{1248:(E,d,c)=>{c.r(d),c.d(d,{CaracteristicaModule:()=>D});var h=c(6895),C=c(6773),v=c(4006),l=c(3108),g=c(5697),p=c(8479),x=c(4128),m=c(7481),e=c(8256),S=c(7034),u=c(4660),f=c(7217);function w(a,r){if(1&a&&(e.TgZ(0,"div")(1,"div",9)(2,"div"),e._uU(3),e.qZA()()()),2&a){const t=r.$implicit;e.xp6(3),e.Oqu(t.desc_categoria)}}function A(a,r){if(1&a&&(e.TgZ(0,"div")(1,"div",9)(2,"div"),e._uU(3),e.qZA()()()),2&a){const t=r.$implicit;e.xp6(3),e.Oqu(t.desc_caracteristica)}}function M(a,r){if(1&a&&(e.TgZ(0,"div")(1,"div",9)(2,"div"),e._uU(3),e.qZA()()()),2&a){const t=r.$implicit;e.xp6(3),e.Oqu(t.desc_caracteristica)}}const T=function(){return[]};let Z=(()=>{class a{constructor(t,i){this.categoriaService=t,this.caracterisitcaService=i,this.categorias=[],this.caracteristicasAll=[],this.caracteristicas=[],this.categoriaSelected=0,this.categoriaApi$=this.categoriaService.findAll(),this.caracteristicaApi$=this.caracterisitcaService.getAll(),this.selectAllModeVlaue="page",this.desc_caracteristica="",this.noDataTextEncoded="Sin caracteristicas asignadas",this.selectionModeValue="single"}ngOnInit(){(0,x.D)([this.categoriaApi$,this.caracteristicaApi$]).subscribe(t=>{this.categorias=t[0],this.caracteristicasAll=t[1]})}addCaracteristica(){}setCategoria(){this.caracterisitcaService.setCategoria(this.caracteristicaSelected).subscribe(t=>{this.caracteristicas.push({id:t.id,desc_caracteristica:this.caracteristicaSelected.desc_caracteristica,categoria_id:this.categoriaSelected}),console.log(t)})}onSelectionCaracteristicaChanged(t){this.caracteristicaSelected={id:t.addedItems[0].id,desc_caracteristica:t.addedItems[0].desc_caracteristica,categoria_id:this.categoriaSelected},console.log(this.caracteristicaSelected)}onSelectionCategoriaChanged(t){this.categoriaSelected=t.addedItems[0].id,this.caracteristicas=t.addedItems[0].caracteristica,console.log(this.caracteristicas)}onItemDeleted(t){this.caracteristicaDeleted=t.itemData.id,console.log({categoria_id:this.categoriaSelected,caracteristica_id:this.caracteristicaDeleted}),this.caracterisitcaService.deleteCaracteristicaOfCategoria({categoria_id:this.categoriaSelected,caracteristica_id:this.caracteristicaDeleted}).subscribe(i=>{console.log(i),i.affected>0&&(0,m.Z)({message:"Eliminacion exitosa",width:350,position:{my:"center top",at:"center top"}},"success",3e3)},i=>{(0,m.Z)({message:"Error, no se puede eliminar, recargue la pagina",width:350,position:{my:"center top",at:"center top"}},"error",3e3)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(S.n),e.Y36(u.w))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fer-caracteristica-new"]],decls:21,vars:18,consts:[[1,"grid-main"],[1,"grid-data"],["height","100%","searchExpr","desc_categoria","searchMode","contains",3,"dataSource","selectionMode","selectAllMode","searchEnabled","showSelectionControls","selectedItemKeys","onSelectionChanged"],["listCategorias",""],[4,"dxTemplate","dxTemplateOf"],["itemDeleteMode","toggle","height","100%","width","300px",3,"dataSource","allowItemDeleting","noDataText","onItemDeleted"],[1,"btn-agregar"],["icon","arrowleft","id","setCategoria","text"," Asignar",3,"onClick"],["height","540px","pageLoadMode","scrollBottom","searchExpr","desc_caracteristica","searchMode","contains",3,"dataSource","selectionMode","selectAllMode","searchEnabled","showSelectionControls","onSelectionChanged"],[1,"grid-caracteristicas"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"label"),e._uU(4,"Categorias"),e.qZA(),e.TgZ(5,"dx-list",2,3),e.NdJ("onSelectionChanged",function(n){return i.onSelectionCategoriaChanged(n)}),e.YNc(7,w,4,1,"div",4),e.qZA()(),e.TgZ(8,"div")(9,"label"),e._uU(10,"Asignadas"),e.qZA(),e.TgZ(11,"dx-list",5),e.NdJ("onItemDeleted",function(n){return i.onItemDeleted(n)}),e.YNc(12,A,4,1,"div",4),e.qZA()(),e.TgZ(13,"div",6)(14,"div")(15,"dx-button",7),e.NdJ("onClick",function(){return i.setCategoria()}),e.qZA()()(),e.TgZ(16,"div")(17,"label"),e._uU(18,"Caracteristicas"),e.qZA(),e.TgZ(19,"dx-list",8),e.NdJ("onSelectionChanged",function(n){return i.onSelectionCaracteristicaChanged(n)}),e.YNc(20,M,4,1,"div",4),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("dataSource",i.categorias)("selectionMode",i.selectionModeValue)("selectAllMode",i.selectAllModeVlaue)("searchEnabled",!0)("showSelectionControls",!0)("selectedItemKeys",e.DdM(17,T)),e.xp6(2),e.Q6J("dxTemplateOf","item"),e.xp6(4),e.Q6J("dataSource",i.caracteristicas)("allowItemDeleting",!0)("noDataText",i.noDataTextEncoded),e.xp6(1),e.Q6J("dxTemplateOf","item"),e.xp6(7),e.Q6J("dataSource",i.caracteristicasAll)("selectionMode",i.selectionModeValue)("selectAllMode",i.selectAllModeVlaue)("searchEnabled",!0)("showSelectionControls",!0),e.xp6(1),e.Q6J("dxTemplateOf","item"))},dependencies:[l.k,f.p6,g.K],styles:[".grid-main[_ngcontent-%COMP%]{display:grid;padding:.5rem;grid-template-columns:800px;grid-row-gap:2px;justify-content:center}.grid-data[_ngcontent-%COMP%]{display:grid;padding:.5rem;grid-template-columns:200px auto auto 250px;grid-row-gap:2px;grid-column-gap:20px}.btn-agregar[_ngcontent-%COMP%]{display:grid;align-items:center;justify-content:center}  #setCategoria .dx-icon{font-size:24px;color:#00f}"]}),a})();var y=c(2451),o=c(4943);const J=function(){return[]},N=function(){return[10,25,50,100]},_=[{path:"",component:Z},{path:"new",component:(()=>{class a{constructor(t){this.caracteristicaService=t,this.dataSource=new y.Z({key:["id"],load:()=>this.caracteristicaService.getAll().toPromise(),update:(i,s)=>this.caracteristicaService.updateMarca(i.id,s).toPromise().then(n=>n),insert:i=>this.caracteristicaService.insertMarca(i).toPromise().then(s=>s)})}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(u.w))},a.\u0275cmp=e.Xpm({type:a,selectors:[["fer-new"]],decls:15,vars:23,consts:[[1,"grid-main"],[1,"grid-data"],["id","gridContainer","keyExpr","id","height","88vh",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","showBorders","hoverStateEnabled","selectedRowKeys"],["gridProduct",""],[3,"enabled"],[3,"visible"],["mode","virtual","showScrollbar","always"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"visible","highlightCaseSensitive"],["mode","row",3,"allowAdding","allowUpdating"],["mode","single"],["dataField","id",3,"width","allowEditing"],["dataField","desc_caracteristica","caption","Caracteristicas","dataType","string","alignment","left",3,"width"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"dx-data-grid",2,3),e._UZ(4,"dxo-load-panel",4)(5,"dxo-filter-row",5)(6,"dxo-header-filter",5)(7,"dxo-scrolling",6)(8,"dxo-paging",7)(9,"dxo-pager",8)(10,"dxo-search-panel",9)(11,"dxo-editing",10)(12,"dxo-selection",11)(13,"dxi-column",12)(14,"dxi-column",13),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("dataSource",i.dataSource)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("showBorders",!0)("hoverStateEnabled",!0)("showBorders",!0)("selectedRowKeys",e.DdM(21,J)),e.xp6(2),e.Q6J("enabled",!0),e.xp6(1),e.Q6J("visible",!0),e.xp6(1),e.Q6J("visible",!0),e.xp6(2),e.Q6J("pageSize",10),e.xp6(1),e.Q6J("showPageSizeSelector",!0)("allowedPageSizes",e.DdM(22,N)),e.xp6(1),e.Q6J("visible",!0)("highlightCaseSensitive",!0),e.xp6(1),e.Q6J("allowAdding",!0)("allowUpdating",!0),e.xp6(2),e.Q6J("width",30)("allowEditing",!1),e.xp6(1),e.Q6J("width",250))},dependencies:[p.e,o.qvW,o.tZE,o.Uo8,o.I62,o.mKI,o.ilc,o.sXh,o.PXJ,o.XXE,o.Lz9],styles:[".grid-main[_ngcontent-%COMP%]{display:grid;padding:.5rem;grid-row-gap:2px;grid-template-columns:500px;place-items:center;justify-content:center}.grid-data[_ngcontent-%COMP%]{justify-self:center;align-items:center}"]}),a})()}];let D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.ez,l.O,v.u5,g.e,p.x,C.Bz.forChild(_)]}),a})()}}]);